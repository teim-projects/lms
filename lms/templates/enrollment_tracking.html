<!DOCTYPE html>
<html lang="en">
    <head>
        <title></title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="css/style.css" rel="stylesheet">
        <style>
  .animated {
    animation-duration: 1s;
    animation-fill-mode: both;
  }

  @keyframes fadeInDown {
    from {
      opacity: 0;
      transform: translate3d(0, -30px, 0);
    }

    to {
      opacity: 1;
      transform: none;
    }
  }

  .fadeInDown {
    animation-name: fadeInDown;
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translate3d(0, 30px, 0);
    }

    to {
      opacity: 1;
      transform: none;
    }
  }

  .fadeInUp {
    animation-name: fadeInUp;
  }
  .card {
    min-height: 150px;
  }
</style>

    </head>
    <body>
    {% include 'Admin_Base.html' %}

<!-- MAIN WRAPPER -->
<div class="main" style="min-height: 100vh; background: #f4f6fb;">

  <div class="container py-5 mt-5">

    <div class="text-center mb-5">
      <h4 class="font-weight-bold   animated fadeInDown">ðŸ“ˆ Student Course Progress Report</h4>
    </div>

    <!-- Course Selection Form -->
    <form method="POST" class="bg-white p-4 rounded shadow-sm animated fadeIn">
      {% csrf_token %}
      <div class="form-group">
        <label for="course_id"><strong>Select Course:</strong></label>
        <select name="course_id" class="form-control" required>
          <option value="">-- Select --</option>
          {% for course in courses %}
            <option value="{{ course.id }}" {% if selected_course and course.id == selected_course.id %}selected{% endif %}>
              {{ course.course_title }}
            </option>
          {% endfor %}
        </select>
      </div>
      <button type="submit" class="btn btn-primary btn-block mt-3">View Progress</button>
    </form>

    <!-- Results Section -->
    {% if selected_course %}
    <div class="mt-5 animated fadeInUp">
      <h5 class="text-dark mb-4">ðŸ“š Course: <span class="text-info">{{ selected_course.course_title }}</span></h5>

      <div class="row">

        <!-- Completed Students -->
        <div class="col-md-4 mb-4">
          <div class="card shadow-sm border-success">
            <div class="card-header bg-success text-white text-center font-weight-bold">
              âœ… Completed Students (100%)
            </div>
            <ul class="list-group list-group-flush">
              {% for student in completed_students %}
                <li class="list-group-item text-center mt-2">{{ student.get_full_name }} <small class="text-muted">({{ student.username }})</small></li>
              {% empty %}
                <li class="list-group-item text-muted text-center mt-2">No students have completed this course yet.</li>
              {% endfor %}
            </ul>
          </div>
        </div>

        <!-- Ongoing Students -->
        <div class="col-md-4 mb-4">
          <div class="card shadow-sm border-warning">
            <div class="card-header bg-warning text-white text-center font-weight-bold">
              ðŸš§ Ongoing Students
            </div>
            <ul class="list-group list-group-flush">
              {% for student in ongoing_students %}
                <li class="list-group-item text-center mt-2">{{ student.get_full_name }} <small class="text-muted">({{ student.username }})</small></li>
              {% empty %}
                <li class="list-group-item text-muted text-center mt-2">All students have completed the course.</li>
              {% endfor %}
            </ul>
          </div>
        </div>

        <!-- Total Enrolled -->
        <div class="col-md-4 mb-4">
          <div class="card shadow-sm border-info text-center">
            <div class="card-header bg-info text-white font-weight-bold">
              ðŸ“Š Total Enrolled Students
            </div>
            <div class="card-body">
              <h1 class="display-4">{{ total_students }}</h1>
            </div>
          </div>
        </div>

      </div>
    </div>
    {% endif %}
  </div>
</div>
        {% include 'footer.html' %}

    </body>
</html>